(function(i){var h={KnotVariants:{},Setting:{enablePropertyHook:!0},Log:{Level:{Info:"Info",Warning:"Warning",Error:"Error"},log:function(g,d,e){i.console&&(i.console.log("["+g+"]"+d),e&&i.console.log(e))},info:function(g,d){this.log(this.Level.Info,g,d)},warning:function(g,d){this.log(this.Level.Warning,g,d)},error:function(g,d){this.log(this.Level.Error,g,d)}},Debugger:{knotChanged:function(){},knotTied:function(){},knotUntied:function(){},nodeAdded:function(){},nodeRemoved:function(){},errorStatusChanged:function(){}}};
i.Knot={K1M:function(){return h}}})(window);(function(i){var h=i.Knot.K1M(),g={"(":!0,"{":!0,"[":!0},d={")":!0,"}":!0,"]":!0},e={"(":")","{":"}","[":"]"};h.K1F={K1H:function(a){for(var c in a)return!1;return!0},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},K1G:function(a,c){return!a?!1:a.substr(0,c.length)===c},getValueOnPath:function(a,c){if(!c&&""!==c||"*NULL"===c)return null;if("*"===c||""===c)return a;var f=!1;"@"===c[0]&&(f=!0,c=c.substr(1));var b;if(this.K1G(c,"__knot_global"))b=
h.KS.KV(c);else{var n=a;"/"===c[0]?(n=i,c=c.substr(1)):"$"===c[0]&&(n=h.KnotVariants,c=c.substr(1));for(;0<=c.indexOf(".")&&n;)var e=h.K1F.trim(c.substr(0,c.indexOf("."))),n="*"!==e?n[e]:void 0,c=h.K1F.trim(c.substr(c.indexOf(".")+1));"*"===c?b=n:n&&(b=n[c])}if(f&&b&&"function"!==typeof b)h.Log.error("'"+c+"' is expected as a function, but it isn't.");else return b},setValueOnPath:function(a,c,f){if("*"!==c[c.length-1]){if(this.K1G(c,"__knot_global"))throw Error("Can't set global symbol!");
c&&"/"===c[0]?(a=i,c=c.substr(1)):"$"===c[0]&&(a=h.KnotVariants,c=c.substr(1));var b=c,e=c.lastIndexOf(".");0<e&&(b=c.substr(e+1),a=this.getValueOnPath(a,c.substr(0,e)));a&&(a[b]=f)}},K1I:function(){return i.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},K1J:function(a,c,f,b){var e={start:-1,end:-1};e.start=a.indexOf(f,c);if(0>e.start)return null;for(var c=0,d=e.start+1;;){var j=a.indexOf(f,d),d=a.indexOf(b,d);if(0>d)break;if(0>j||d<j){if(0===c){e.end=d;break}else c--;
d+=1}else c++,d=j+1}return 0<=e.start&&0<=e.end?e:null},K1K:function(a,c){for(var f=0,b=0,n=[],m=[],j=c.length;f<a.length;){if(g[a[f]])m.push(a[f]);else if(d[a[f]]){var l=m.pop();e[l]!==a[f]&&(h.Log.warning("Unclosed block is detected.\r"+a),m.push(l))}else 0===m.length&&(a[f]===c[0]&&a.substr(f,j)===c)&&(n.push(a.substr(b,f-b)),b=f+j);f++}0<m.length&&h.Log.warning("Unclosed block is detected.\r"+a);f>=b&&n.push(a.substr(b,f-b));return n}}})(window);(function(i){i=i.Knot.K1M();i.Deferred=function(){this._succCallbacks=[];this._errCallbacks=[];this.isRejected=this.isFinished=!1;this.result=null};i.Deferred.prototype.resolve=function(h){this.result=h;this.isFinished=!0;this.isRejected=!1;for(var g=0;g<this._succCallbacks.length;g++)this._succCallbacks[g](h)};i.Deferred.prototype.reject=function(h){this.result=h;this.isRejected=this.isFinished=!0;for(var g=0;g<this._errCallbacks.length;g++)this._errCallbacks[g](h)};i.Deferred.prototype.done=
function(h,g){this.isFinished?this.isRejected?g(this.result):h(this.result):(this._succCallbacks.push(h),this._errCallbacks.push(g));return this}})(window);(function(i){var h=i.Knot.K1M();h.KJ={_dataInMonitoring:[],_attachedInfoOfData:[],KK:function(g){if(h.Setting.enablePropertyHook){if(!g.__knot_attachedData){if("object"!==typeof g)throw Error("Can only monitor object or array!");Object.defineProperty(g,"__knot_attachedData",{value:{},configurable:!0,writable:!1,enumerable:!1})}return g.__knot_attachedData}0>this._dataInMonitoring.indexOf(g)&&(this._dataInMonitoring.push(g),this._attachedInfoOfData[this._dataInMonitoring.indexOf(g)]=
{});return this._attachedInfoOfData[this._dataInMonitoring.indexOf(g)]},KL:function(g){h.Setting.enablePropertyHook?delete g.__knot_attachedData:(g=this._dataInMonitoring.indexOf(g),0<=g&&(delete this._dataInMonitoring[g],delete this._attachedInfoOfData[g]))}}})(window);(function(i){var h=i.Knot.K1M();h.KM={on:function(g,d,e,a){g=h.KJ.KK(g);g.K1O||(g.K1O={});d||(d="*");g.K1O[d]||(g.K1O[d]=[]);g.K1O[d].push({callback:e,attachedData:a})},off:function(g,d,e){d||(d="*");var a=h.KJ.KK(g);if(a.K1O&&a.K1O[d]){for(var c=0;c<a.K1O[d].length;c++)if(a.K1O[d][c].callback===e){a.K1O[d].splice(c,
1);break}0===a.K1O[d].length&&(delete a.K1O[d],h.K1F.K1H(a)&&h.KJ.KL(g))}},KN:function(g,d,e){g=h.KJ.KK(g);if(g.K1O&&g.K1O[d])for(var a=0;a<g.K1O[d].length;a++)if(g.K1O[d][a].callback===e)return!0;return!1},KO:function(g,d,e){g=h.KJ.KK(g);if(g.K1O&&g.K1O[d])for(var a=0;a<g.K1O[d].length;a++)if(g.K1O[d][a].callback===
e)return g.K1O[d][a].attachedData;return null},notifyDataChanged:function(g,d,e,a){var c=h.KJ.KK(g);c.changedProperties||(c.changedProperties=[]);0>c.changedProperties.indexOf(d)&&c.changedProperties.push(d);var f,b;if(c.K1O&&c.K1O[d]){f=c.K1O[d].slice(0);for(b=0;b<f.length;b++)try{f[b].callback.apply(g,[d,e,a])}catch(n){h.Log.warning("Call changed callback failed.",n)}}if(c.K1O&&c.K1O["*"]){f=c.K1O["*"].slice(0);
for(b=0;b<f.length;b++)try{f[b].callback.apply(g,[d,e,a])}catch(m){h.Log.warning("Call changed callback failed.",m)}}},getPropertiesChangeRecords:function(g){g=h.KJ.KK(g);return!g?null:g.changedProperties?g.changedProperties:[]},clearPropertiesChangeRecords:function(g){g=h.KJ.KK(g);if(!g)return null;g.changedProperties=null},KP:function(g,d){if("*"!==d){var e=h.KJ.KK(g);e.dataHookInfo||(e.dataHookInfo={hookedProperties:[],
data:{},hookRefCount:{}});if(0<=e.dataHookInfo.hookedProperties.indexOf(d))e.dataHookInfo.hookRefCount[d]++;else if(e.dataHookInfo.hookedProperties.push(d),e.dataHookInfo.data[d]=g[d],e.dataHookInfo.hookRefCount[d]=1,!(g instanceof Array&&"length"===d))try{Object.defineProperty(g,d,{set:function(a){var f=e.dataHookInfo.data[d];if(f!==a){e.dataHookInfo.data[d]=a;h.KM.notifyDataChanged(this,d,f,a)}},get:function(){return e.dataHookInfo.data[d]},configurable:!0,enumerable:!0})}catch(a){e.dataHookInfo.hookFailed=
!0,h.Log.warning("Hook property failed. property:"+d,a)}}},KQ:function(g,d){if("*"!==d){var e=h.KJ.KK(g);e.dataHookInfo&&(!(0>e.dataHookInfo.hookedProperties.indexOf(d))&&!(0<--e.dataHookInfo.hookRefCount[d]))&&(e.dataHookInfo.hookFailed||(delete g[d],g[d]=e.dataHookInfo.data[d]),e.dataHookInfo.hookedProperties.splice(e.dataHookInfo.hookedProperties.indexOf(d),1),delete e.dataHookInfo.data[d],delete e.dataHookInfo.hookRefCount[d])}},KR:function(g,
d){var e=h.KJ.KK(g);return!e.dataHookInfo?!1:0<=e.dataHookInfo.hookedProperties.indexOf(d)},monitorObject:function(g,d,e,a){var c,f=d.substr(0,d.indexOf("."));f?c=d.substr(d.indexOf(".")+1):(f=d,c=null);var b={};h.KM.on(g,d,e,b);c&&(b.childChangedCallback=function(b,a,e){h.KM.notifyDataChanged(g,f+"."+c,a,e)},b.monitorChildChangedCallback=function(a,e,d){e&&h.KM.stopMonitoring(e,c,b.childChangedCallback);d&&h.KM.monitorObject(d,c,b.childChangedCallback,
true);a=f+"."+c;d=h.K1F.getValueOnPath(d,c);e=h.K1F.getValueOnPath(e,c);h.KM.notifyDataChanged(g,a,e,d)},h.KM.on(g,f,b.monitorChildChangedCallback),g[f]&&h.KM.monitorObject(g[f],c,b.childChangedCallback,!0));a||(b.changedCallback=function(f,a,c){if(a instanceof Array){h.KM.off(a,"*",b.arrayChangedCallback);delete b.arrayChangedCallback}if(c instanceof Array){b.arrayChangedCallback=function(){h.KM.notifyDataChanged(g,d,c,c)};h.KM.on(c,
"*",b.arrayChangedCallback)}},h.KM.on(g,d,b.changedCallback,b),e=h.K1F.getValueOnPath(g,d),e instanceof Array&&b.changedCallback("*",null,e));h.KM.KP(g,f)},monitor:function(g,d,e){if(d)"/"===d[0]&&(d=d.substr(1),g=i),this.monitorObject(g,d,e);else h.KM.on(g,null,e)},stopMonitoring:function(g,d,e){if(d){"/"===d[0]&&(d=d.substr(1),g=i);var a,c=d.substr(0,d.indexOf("."));c?a=d.substr(d.indexOf(".")+1):(c=d,a=null);var f=h.KM.KO(g,d,e);
f&&(f.monitorChildChangedCallback&&h.KM.off(g,c,f.monitorChildChangedCallback),f.childChangedCallback&&g[c]&&h.KM.stopMonitoring(g[c],a,f.childChangedCallback),f.changedCallback&&h.KM.off(g,d,f.changedCallback),f.arrayChangedCallback&&h.KM.off(h.K1F.getValueOnPath(g,d),"*",f.arrayChangedCallback));h.KM.off(g,d,e);h.KM.KQ(g,c)}else h.KM.off(g,d,e)}}})(window);(function(i){function h(e){d[e]=Array.prototype[e];Array.prototype[e]=function(){var a=this.length,c=d[e].apply(this,arguments);this.__knot_attachedData&&(g.KM.notifyDataChanged(this,"*"),a!==this.length&&g.KM.notifyDataChanged(this,"length",a,this.length));return c}}var g=i.Knot.K1M(),d={};h("push");h("pop");h("unshift");h("shift");h("splice");h("sort");h("reverse");Array.prototype.notifyChanged=function(){this.__knot_attachedData&&(g.KM.notifyDataChanged(this,
"*"),g.KM.notifyDataChanged(this,"length",null,this.length))}})(window);(function(i){var h=i.Knot.K1M(),g=0,d={};h.KS={KT:function(e,a){d[e]?h.Log.error("The global symbol'"+e+"' has been registered."):d[e]=a},KU:function(e){var a="s"+g++;d[a]=e;return"__knot_global."+a},KV:function(e){var e=e.split("."),a=i;"__knot_global"===e[0]&&(a=d,e.splice(0,1));for(var c=0;c<e.length;c++){if(null===a||"undefined"===typeof a)return;a=a[e[c]]}return a},KW:function(e){return h.K1F.K1G(e,"__knot_global.")}}})(window);(function(i){function h(e){e="(function (value) {"+e+"})";try{return d.KS.KU(eval(e))}catch(a){d.Log.error("Invalid pipe function: \r\n"+e,a)}}var g=[{splitter:":",left:!1,right:!1},{splitter:"=>",left:!0,right:!1},{splitter:"<=",left:!1,right:!0},{splitter:"=",left:!0,right:!0}],d=i.Knot.K1M();d.K18={parse:function(e){for(var a=[],e=this.K1E(e),e=d.K1F.K1K(e,";"),c=0;c<e.length;c++){var f=this.K1C(e[c]);
f&&a.push(f)}return a},K1E:function(e){for(var a=d.K1F.K1J(e,0,"{","}");a;)var c=e.substr(a.start+1,a.end-a.start-1),c=h(c),e=e.substr(0,a.start)+c+e.substr(a.end+1),a=d.K1F.K1J(e,0,"{","}");return e},K1C:function(e){e=d.K1F.trim(e);if(!e)return null;for(var a,c,f=0;f<g.length;f++)if(a=d.K1F.K1K(e,g[f].splitter),2===a.length){c=g[f];break}if(!c)return d.Log.error("Invalid option:"+e),null;f=this.K1B(a[0]);a=
this.K1B(a[1]);if(null===f||null===a||f.isComposite&&a.isComposite)return d.Log.error("Invalid option:"+e),null;c.left&&(f.options||(f.options={}),f.options.readonly="1");c.right&&(a.options||(a.options={}),a.options.readonly="1");return{leftAP:f,rightAP:a}},K1B:function(e){e=d.K1F.trim(e);if("("===e[0])return this.K19(e);var a=d.K1F.K1K(e,">"),e=d.K1F.trim(a[0]);a.splice(0,1);var a=a.map(function(b){return d.K1F.trim(b)}),c=null;
if("]"===e[e.length-1]){var f=d.K1F.K1J(e,0,"[","]");f&&(c=this.K1A(e.substr(f.start+1,f.end-f.start-1)),e=e.substr(0,f.start))}return{description:e,pipes:a,options:c}},K1A:function(e){for(var a={},e=d.K1F.K1K(e,";"),c=0;c<e.length;c++){var f=e[c].split(":");2!==f.length||!f[0]||!f[1]?d.Log.error("Invalid AP option:"+e[c]):a[d.K1F.trim(f[0])]=d.K1F.trim(f[1])}return a},K19:function(e){var a=d.K1F.K1J(e,0,"(",")");
if(!a)return d.Log.error("Invalid composite option:"+e),null;for(var c=d.K1F.K1K(e.substr(a.start+1,a.end-a.start-1),"&"),f=[],b=0;b<c.length;b++){var n=this.K1B(c[b]);if(!n)return null;f.push(n)}for(a=a.end+1;">"!==e[a];){if(" "!==e[a]&&"\t"!==e[a]&&"\n"!==e[a])return d.Log.error("Invalid composite option:"+e),null;a++}a++;a=d.K1F.trim(e.substr(a));return!a?(d.Log.error("Invalid composite option:"+e),null):{isComposite:!0,childrenAPs:f,nToOnePipe:a}}}})(window);(function(i){function h(f,b,a,c){if(b&&b[a]){var d=e.K1F.getValueOnPath(null,b[a]);if(!d||"function"!==typeof d)e.Log.error("'"+b[a]+"' must be a function.");else try{d.apply(f,c)}catch(g){e.Log.error("Call AP event handler '"+b[a]+"' failed.",g)}}}function g(f,b,a,c){if(a.description&&("*"===a.description[0]||"!"===a.description[0])){var d=a.description,g=!1;if("!"===d[0]&&(d=e.K1F.trim(d.substr(1)),g=!0,"*"!==d[0]))return{target:c?f:b,ap:a};var h;e.K1F.K1G(d,"*LEFT")&&(h=d.substr(5),
c=!0);e.K1F.K1G(d,"*RIGHT")&&(h=d.substr(6),c=!1);""===h&&(h="*");h&&"."===h[0]&&(h=h.substr(1));if(h){g&&(h="!"+h);var d={},i;for(i in a)a.hasOwnProperty(i)&&(d[i]=a[i]);d.description=h;a=d}}return{target:c?f:b,ap:a}}function d(f){return f.options&&f.options.readonly?(f=f.options.readonly.toLowerCase(),"1"===f||"true"===f):!1}var e=i.Knot.K1M(),a=[],c=[];e.K3={K4:function(f,b){if(b&&"!"===b[0])return this.K5(f,b)||e.K2;for(var c=
a.length-1;0<=c;c--)if(a[c].doesSupport(f,b))return a[c];return e.K2},K5:function(f,b){for(var a=c.length-1;0<=a;a--)if(c[a].doesSupport(f,b))return c[a];return null},registerAPProvider:function(f,b){b?0>c.indexOf(f)&&c.push(f):0>a.indexOf(f)&&a.push(f)},unregisterAPProvider:function(f,b){b?0<=c.indexOf(f)&&c.splice(a.indexOf(f),1):0<=a.indexOf(f)&&a.splice(a.indexOf(f),1)},K8:{},K9:function(f,b){this.KD(f,b);var a=b.provider.getValue(f,
b.description,b.options);try{if(b.pipes){for(var c=0;c<b.pipes.length;c++){var d=e.K1F.getValueOnPath(i,b.pipes[c]);"function"!==typeof d&&e.Log.error("Pipe must be a function. pipe name:"+b.pipes[c]);a=d.apply(f,[a])}b.errorAPProvider&&b.errorAPProvider.setValue(f,"!"+b.description,void 0,b.options);e.Debugger.errorStatusChanged(f,b,void 0)}}catch(g){return b.errorAPProvider&&(b.errorAPProvider.setValue(f,"!"+b.description,g,b.options),e.Debugger.errorStatusChanged(f,b,g)),this.K8}return a},
KA:function(f,b,a){if(!b.KB){b.KB=!0;try{this.KD(f,b),b.provider.setValue(f,b.description,a,b.options),h(f,b.options,"@set",[b.description,a])}finally{delete b.KB}}},KC:function(f,b,a,c,d){e.Debugger.knotChanged(f,b,a,c,d)},KD:function(f,b){b.provider||(b.provider=this.K4(f,b.description),b.errorAPProvider=this.K5(f,b.description))},monitor:function(f,b,a,c,d){this.KD(f,
b);this.KD(a,c);b.provider.doesSupportMonitoring(f,b.description)&&(b.changedCallback=function(){if(!c.KB){var g=e.K3.K9(f,b);if(g!==e.K3.K8){d.leftAP===b?e.K3.KC(f,a,d,g,!0):e.K3.KC(a,f,d,g,!1);b.KB=!0;try{e.K3.KA(a,c,g)}finally{delete b.KB}h(f,b.options,"@change",arguments)}}},b.provider.monitor(f,b.description,b.changedCallback,
b.options))},stopMonitoring:function(a,b){this.KD(a,b);b.changedCallback&&b.provider.doesSupportMonitoring(a,b.description)&&(b.provider.stopMonitoring(a,b.description,b.changedCallback,b.options),delete b.changedCallback)},KE:function(a,b,c,d,g){var l,p,k,o;a.isComposite?(l=a,p=b,k=c,o=d):(l=c,p=d,k=a,o=b);for(a=0;a<l.childrenAPs.length;a++)l.childrenAPs[a].provider=e.K3.K4(p,l.childrenAPs[a].description);o.provider=e.K3.K4(o,k.description);
l.changedCallback=function(){for(var a=[],f=0;f<l.childrenAPs.length;f++){var c=e.K3.K9(p,l.childrenAPs[f]);if(c===e.K3.K8)return;a.push(c)}f=e.K1F.getValueOnPath(i,l.nToOnePipe);typeof f!=="function"&&e.Log.error("Pipe must be a function. pipe name:"+l.nToOnePipe);a=f.apply(p,[a]);e.K3.KC(b,d,g,a,o===d);e.K3.KA(o,k,a);h(o,k,"@change",[b,d,g])};for(a=0;a<l.childrenAPs.length;a++)l.childrenAPs[a].provider.doesSupportMonitoring(p,
l.childrenAPs[a].description)&&l.childrenAPs[a].provider.monitor(p,l.childrenAPs[a].description,l.changedCallback,l.childrenAPs[a].options);l.changedCallback()},KF:function(a,b,c){var h=g(a,b,c.leftAP,!0),j=g(a,b,c.rightAP,!1),a=h.target,b=j.target,h=h.ap,j=j.ap;if(h.isComposite||j.isComposite)this.KE(h,a,j,b,c);else{this.KD(a,h);this.KD(b,j);var i;!d(h)||d(h)&&d(j)?(i=this.K9(b,j),i!==this.K8&&(this.KC(a,b,
c,i,!1),this.KA(a,h,i))):(i=this.K9(a,h),i!==this.K8&&(this.KC(b,a,c,i,!1),this.KA(b,j,i)));d(j)||this.monitor(a,h,b,j,c);d(h)||this.monitor(b,j,a,h,c)}e.Debugger.knotTied(a,b,c)},KG:function(a,b,c){var d=g(a,b,c.leftAP,!0),j=g(a,b,c.rightAP,!1),a=d.target,b=j.target,d=d.ap,j=j.ap;if(d.isComposite||j.isComposite){if(d.isComposite?(j=d,d=a):d=b,j.changedCallback)for(var h=0;h<j.childrenAPs.length;h++)j.childrenAPs[h].provider.doesSupportMonitoring(d,
j.childrenAPs[h].description)&&j.childrenAPs[h].provider.stopMonitoring(d,j.childrenAPs[h].description,j.changedCallback,j.childrenAPs[h].options)}else this.stopMonitoring(a,d),delete d.changedCallback,this.stopMonitoring(b,j);delete j.changedCallback;e.Debugger.knotUntied(a,b,c)},KH:function(a){a.changedCallback&&a.changedCallback()}};e.K2={doesSupport:function(){return!0},getValue:function(a,b){"@"===b[0]&&(b=b.substr(1));return e.K1F.getValueOnPath(a,b)},setValue:function(a,
b,c){e.K1F.setValueOnPath(a,b,c)},doesSupportMonitoring:function(a){return"object"!==typeof a?!1:!0},monitor:function(a,b,c){b&&"/"===b[0]&&(a=i,b=b.substr(1));b&&"$"===b[0]&&(a=e.KnotVariants,b=b.substr(1));a&&e.KM.monitor(a,b,c)},stopMonitoring:function(a,b,c){b&&"/"===b[0]&&(a=i,b=b.substr(1));b&&"$"===b[0]&&(a=e.KnotVariants,b=b.substr(1));a&&e.KM.stopMonitoring(a,b,c)}}})(window);(function(i){function h(f){a.Kh.K15(f);f.parentNode.removeChild(f);a.Debugger.nodeRemoved(f)}function g(f,b,c){if(!c||!c.template)a.Log.error("No valid template is specified for 'content' access point. current node:"+a.KX.KY(f));else{var d=function(d,e){if(c&&c[e]){var g=a.K1F.getValueOnPath(b,c[e]);try{g.apply(f,[d,b])}catch(o){a.Log.warning("Raise "+e+" event failed.",o)}}},e=f.childNodes[0];if(e){if(!(e.__knot&&e.__knot.dataContext===b))if(null===
b||"undefined"===typeof b)h(e),d(e,"@removed");else{if(a.Kh.K10(c.template)){if(h(e),e=a.Kh.createFromTemplate(c.template,b,f))f.appendChild(e),a.Kh.hasDataContext(e)||a.Kh.setDataContext(e,b),a.Debugger.nodeAdded(e),d(e,"@added")}else a.Kh.K13(e,b);e&&(e.__knot||(e.__knot={}),e.__knot.dataContext=b)}}else if(!(null===b||"undefined"===typeof b))if(e=a.Kh.createFromTemplate(c.template,b,f))f.appendChild(e),
a.Kh.hasDataContext(e)||a.Kh.setDataContext(e,b),d(e,"@added"),a.Debugger.nodeAdded(e)}}function d(f,b,c,e,d){b||(b=[]);for(var g=0;g<b.length;g++){var i;a:{for(var k=g;k<f.children.length;k++)if(f.children[k].__knot&&f.children[k].__knot.dataContext===b[g]){i=f.children[k];break a}i=null}if(i){if(Array.prototype.indexOf.call(f.children,i)!==g){f.removeChild(i);var k=f,o=g;k.children.length===o?k.appendChild(i):k.insertBefore(i,k.children[o])}}else if(k=a.Kh.createFromTemplate(c,
b[g],f)){i=f;var o=k,q=g;i.children.length===q?i.appendChild(o):i.insertBefore(o,i.children[q]);a.Kh.hasDataContext(k)||a.Kh.setDataContext(k,b[g]);a.Debugger.nodeAdded(k);e&&e.apply(f,[k,b[g]])}}for(g=f.children.length-1;g>=b.length;g--)h(f.children[g]),d&&d.apply(f,[f.children[g]])}function e(f,b,c){!c||!c.template?a.Log.error("No valid template is specified for 'foreach' access point. current node:"+a.KX.KY(f)):d(f,b,c.template,a.K1F.getValueOnPath(f,
c["@added"]),a.K1F.getValueOnPath(f,c["@removed"]))}var a=i.Knot.K1M(),c=[];c["input.value"]="change";c["textarea.value"]="change";c["input.checked"]="change";c["select.selectedIndex"]="change";c["select.value"]="change";c["*.clientWith"]="resize";c["*.clientHeight"]="resize";c["*.scrollTop"]="scroll";c["*.scrollLeft"]="scroll";a.KX={KY:function(a){var b=a.tagName;a.id?b+="[#"+a.id+"]":a.className&&(b+="["+a.className.split(" ").filter(function(a){return a.trim()!==
""}).map(function(a){return"."+a}).join(" ")+"]");return b},getSelectorFromAPDescription:function(f){f=a.K1F.K1K(f,".");return a.K1F.trim(f[0])},getPropertyNameFromAPDescription:function(f){f=a.K1F.K1K(f,".");if(1<f.length)return f.slice(1).join(".")},getPropertyFromElement:function(f,b){return!f?void 0:a.K1F.getValueOnPath(f,b)},Kd:function(f){if(0<f.indexOf("(")){var b=a.K1F.K1J(f,0,"(",")");if(b)try{var c=f.substr(b.start+1,
b.end-b.start-1);return document.querySelector(c)}catch(e){a.Log.error("Query selector failed.",e)}else a.Log.error("Unknown selector:"+f)}else return document.querySelector(f)}};a.Kf={doesSupport:function(a,b){return"#"===b[0]?!0:"!"===b[0]?!1:a instanceof HTMLElement},getValue:function(c,b){if("@"!==b[0]&&("#"===b[0]&&(c=a.KX.Kd(a.KX.getSelectorFromAPDescription(b)),b=a.KX.getPropertyNameFromAPDescription(b)),!a.K1F.K1G(b,"content")&&
!a.K1F.K1G(b,"foreach")))return a.KX.getPropertyFromElement(c,b)},setValue:function(c,b,d,h){"@"===b[0]?"function"!==typeof d?a.Log.error("Event listener must be a function!"):c&&c.addEventListener(b.substr(1),function(a){d.apply(c.__knot.dataContext,[a,c])}):("#"===b[0]&&(c=a.KX.Kd(a.KX.getSelectorFromAPDescription(b)),b=a.KX.getPropertyNameFromAPDescription(b)),a.K1F.K1G(b,"content"))?g(c,d,h):a.K1F.K1G(b,"foreach")?
e(c,d,h):("undefined"===typeof d&&(d=""),a.K1F.setValueOnPath(c,b,d))},doesSupportMonitoring:function(f,b){"#"===b[0]&&(f=a.KX.Kd(a.KX.getSelectorFromAPDescription(b)),b=a.KX.getPropertyNameFromAPDescription(b));if(!f)return!1;var d=f.tagName.toLowerCase()+"."+b;return c[d]||c["*."+b]},monitor:function(f,b,d,e){"#"===b[0]&&(f=a.KX.Kd(a.KX.getSelectorFromAPDescription(b)),b=a.KX.getPropertyNameFromAPDescription(b));
for(var b=f.tagName.toLowerCase()+"."+b,b=c[b].split(","),g=0;g<b.length;g++)f.addEventListener(b[g],d);("input"===f.tagName.toLowerCase()||"textarea"===f.tagName.toLowerCase())&&(e&&e.immediately&&("1"===e.immediately||"true"===e.immediately.toLowerCase()))&&f.addEventListener("keyup",d)},stopMonitoring:function(f,b,d,e){"#"===b[0]&&(f=a.KX.Kd(a.KX.getSelectorFromAPDescription(b)),b=a.KX.getPropertyNameFromAPDescription(b));for(var b=f.tagName.toLowerCase()+
"."+b,b=c[b].split(","),g=0;g<b.length;g++)f.removeEventListener(b[g],d);("input"===f.tagName.toLowerCase()||"textarea"===f.tagName.toLowerCase())&&(e&&e.immediately&&("1"===e.immediately||"true"===e.immediately.toLowerCase()))&&f.removeEventListener("keyup",d)},syncItems:d};a.K3.registerAPProvider(a.Kf);a.Kg={doesSupport:function(a,b){return b&&("!"===b[0]&&(b=b.substr(1)),"#"===b[0])?!0:a instanceof HTMLElement},getValue:function(c,b){if("!"===b[0]&&(b=b.substr(1),
"#"===b[0]&&(c=a.KX.Kd(a.KX.getSelectorFromAPDescription(b)),b=a.KX.getPropertyNameFromAPDescription(b)),c))return!c.__knot_errorStatusInfo||!c.__knot_errorStatusInfo[b]?null:c.__knot_errorStatusInfo[b].currentStatus},setValue:function(c,b,d,e){if("!"===b[0]&&(b=b.substr(1),"#"===b[0]&&(c=a.KX.Kd(a.KX.getSelectorFromAPDescription(b)),b=a.KX.getPropertyNameFromAPDescription(b)),c&&(d||c.__knot_errorStatusInfo&&c.__knot_errorStatusInfo[b]&&
c.__knot_errorStatusInfo[b].K1O)))if(c.__knot_errorStatusInfo||(c.__knot_errorStatusInfo={}),c.__knot_errorStatusInfo[b]||(c.__knot_errorStatusInfo[b]={}),c.__knot_errorStatusInfo[b].currentStatus!==d){c.__knot_errorStatusInfo[b].currentStatus=d;if(c.__knot_errorStatusInfo[b].K1O)for(var g=c.__knot_errorStatusInfo[b].K1O,h=0;h<g.length;h++)try{g[h].apply(c,[b,d])}catch(i){a.Log.warning("Call error status changed callback failed.",i)}if(e&&e["@error"])if(g=a.K1F.getValueOnPath(null,
e["@error"]),!g||"function"!==typeof g)a.Log.error("'"+e["@error"]+"' must be a function.");else try{g.apply(c,[b,d])}catch(k){a.Log.error("Call AP error event handler '"+e["@error"]+"' failed.",k)}}},doesSupportMonitoring:function(a,b){return"!"===b[0]},monitor:function(c,b,d){if("!"===b[0]){b=b.substr(1);if("#"===b[0]){var e=a.KX.getSelectorFromAPDescription(b),c=a.KX.Kd(e);if(!c){a.Log.warning("Failed to bind to error status, target is not found.  target selector:"+
e);return}b=a.KX.getPropertyNameFromAPDescription(b)}c.__knot_errorStatusInfo||(c.__knot_errorStatusInfo={});c.__knot_errorStatusInfo[b]||(c.__knot_errorStatusInfo[b]={});c.__knot_errorStatusInfo[b].K1O||(c.__knot_errorStatusInfo[b].K1O=[]);c.__knot_errorStatusInfo[b].K1O.push(d)}},stopMonitoring:function(c,b,d){"#"===b[1]&&(c=a.KX.Kd(a.KX.getSelectorFromAPDescription(b.substr(1))),b=a.KX.getPropertyNameFromAPDescription(b.substr(1)));
c.__knot_errorStatusInfo&&(c.__knot_errorStatusInfo[b]&&c.__knot_errorStatusInfo[b].K1O)&&(d=c.__knot_errorStatusInfo[b].K1O.indexOf(d),0<=d&&c.__knot_errorStatusInfo[b].K1O.splice(d,1))},getErrorStatusInformation:function(a,b){if(a.__knot_errorStatusInfo)for(var c in a.__knot_errorStatusInfo)a.__knot_errorStatusInfo[c]&&a.__knot_errorStatusInfo[c].currentStatus&&b.push({node:a,K1P:c,error:a.__knot_errorStatusInfo[c].currentStatus});for(c=0;c<a.children.length;c++)this.getErrorStatusInformation(a.children[c],
b)}};a.K3.registerAPProvider(a.Kg,!0)})(window);(function(i){function h(a){if(!a||""===a)return null;for(var b;0<=(b=a.indexOf("/*"));){var c=a.indexOf("*/",b);if(0>c)throw Error("Can't find close mark for comment.");a=a.substr(0,b)+a.substr(c+2)}a=a.split("\n");b="";for(c=0;c<a.length;c++)for(var d=a[c].split("\r"),e=0;e<d.length;e++)"//"!==j.K1F.trim(d[e]).substr(0,2)&&(b+=d[e]);return b}function g(a){if(!a)return null;for(var b=0;b<a.length;b++)if("dataContext"===a[b].leftAP.description)return a[b];return null}function d(a,b){a.__knot?b.__knot=
JSON.parse(JSON.stringify(a.__knot)):delete b.__knot;for(var c=0;c<a.children.length;c++)d(a.children[c],b.children[c])}function e(a){return"foreach"===a.description||"content"===a.description}function a(b,c,d){for(var e=0,f=j.K1F.K1J(c,e,"{","}");null!==f;){e=c.substr(e,f.start-e);e=j.K1F.trim(e);d&&(e=e.split(",").filter(function(a){return a}).map(function(a){a=j.K1F.trim(a);return d.split(",").filter(function(a){return a}).map(function(b){return j.K1F.trim(b)+" "+a}).join(",")}).join(","));
b[e]||(b[e]=[]);for(var g=c.substr(f.start+1,f.end-f.start-1),g=j.K1F.K1K(g,";"),h=0;h<g.length;h++){var i=j.K1F.trim(g[h]);i&&(0===i.indexOf("=>")?a(b,i.substr(2),e):(i=j.K18.K1E(i),0>b[e].indexOf(i)&&b[e].push(i)))}0===b[e].length&&delete b[e];e=f.end+1;f=j.K1F.K1J(c,e,"{","}")}}function c(a){var b=null;a.__knot&&a.__knot.cbsOptions&&(b=a.__knot.cbsOptions,delete a.__knot.cbsOptions);if(a.attributes.binding&&a.attributes.binding.value){b||
(b=[]);var d=a.attributes.binding.value,d=j.K18.K1E(d),d=d.split(";").map(function(a){return j.K1F.trim(a)}),b=b.concat(d)}if(b)for(d=0;d<b.length;d++){a.__knot||(a.__knot={options:[]});var f=j.K18.parse(b[d]);0!==f.length&&(a.__knot.options.push(f[0]),e(f[0].leftAP)&&0>l.indexOf(a)&&l.push(a))}if(a.children)for(b=0;b<a.children.length;b++)c(a.children[b])}function f(a,b){var c,d;for(d in b)if(j.K1F.K1G(d,"/")){c=d;var e=b;k[c]||(k[c]={options:[]});
for(var f=0;f<e[c].length;f++)k[c].options=k[c].options.concat(j.K18.parse(e[c][f]))}else{var g;try{g=a.querySelectorAll(d)}catch(h){j.Log.warning("Invalid selector:"+d,h);continue}0===g.length&&j.Log.warning("There is no element selected with selector:"+d);for(c=0;c<g.length;c++)e=b[d].slice(0),g[c].__knot||(g[c].__knot={options:[]}),g[c].__knot.cbsOptions&&(e=g[c].__knot.cbsOptions.concat(e)),g[c].__knot.cbsOptions=e}}function b(a){for(var a=a.querySelectorAll("*[knot-template], *[knot-template-id]"),
b=0;b<a.length;b++){var c;c=a[b].getAttribute("knot-template-id")?a[b].getAttribute("knot-template-id"):"knot_template_"+p++;j.Kh.Kk[c]=a[b];a[b].__knot_template_id=c}return Array.prototype.slice.apply(a,[0])}function n(a,b){var c;if(!b.options||!b.options.template){if(c=a.children[0],1<a.children.length&&j.Log.warning("More than one child is found within '"+j.KX.KY(a)+'", only the first will be taken as template and the reset will be removed.'),!c){j.Log.error("Can't find template within '"+
j.KX.KY(a)+"'");return}}else{var d=b.options.template;if("@"===d[0])return;c=j.Kh.Kk[d];if(!c){j.Log.error("Can't find template with selector'"+d+"'");return}}c.__knot_template_id||j.Log.error("The template node must be marked with 'knot-template'. Current node:'"+j.KX.KY(a)+"'");b.options||(b.options={});b.options.template=c.__knot_template_id}function m(){var a,b;for(b in k){(function(){var c=b;k[c].objectObserveCallback=function(b,
d,e){b=k[c].options;if(d)for(a=0;a<b.length;a++)j.K3.KG(d,null,b[a]);for(a=0;a<b.length;a++)j.K3.KF(e,null,b[a])};j.KM.monitor(i,b.substr(1),k[c].objectObserveCallback)})();var c=j.K1F.getValueOnPath(null,b);if(c){var d=k[b].options;for(a=0;a<d.length;a++)j.K3.KF(c,null,d[a])}}}var j=i.Knot.K1M(),l=[],p=0,k={};j.Kh={Ki:{},privateCBSInfo:[],K1N:null,Kk:{},Kl:function(){for(var a=new j.Deferred,
b=i.document.querySelectorAll('script[type="text/cbs"]'),c=this,d=0,e=0;e<b.length;e++)if(b[e].src)d++,function(){var f=b[e].src,g=j.K1F.K1I();g.onreadystatechange=function(){if(4===g.readyState)if(200===g.status)try{var b=h(g.responseText);c.Km(b);d--;if(0===d)try{a.resolve()}catch(e){j.Log.error("Initialize failed.  message:"+e.message,e)}}catch(i){j.Log.error("Load CBS script error. url:"+f+" message:"+i.message,i),a.reject(i)}else j.Log.error("Load CBS script error. url:"+f+" message:"+
g.statusText),a.reject(Error("Load CBS script error. url:"+f+" message:"+g.statusText))};g.open("GET",f,!0);g.send()}();else try{this.Km(h(b[e].textContent))}catch(f){a.reject(f)}0===d&&a.resolve();return a},Km:function(b){b=j.K1F.trim(b);if(j.K1F.K1G(b,"$private")){var c={CBS:{}},b=b.substr(8);c.HTML||(c.HTML="");for(var d=0,e="",f=j.K1F.K1J(b,d,"<<{{","}}>>");null!==f;)e+=b.substr(d,f.start-d),c.HTML+=b.substr(f.start+4,f.end-f.start-4),d=f.end+4,f=j.K1F.K1J(b,
d,"<<{{","}}>>");d<b.length&&(e+=b.substr(d));a(c.CBS,e);this.privateCBSInfo.push(c)}else a(this.Ki,b)},Ks:function(){if(0<this.privateCBSInfo.length){this.K1N=document.createElement("DIV");for(var a=0;a<this.privateCBSInfo.length;a++){var b=document.createElement("DIV");b.innerHTML=this.privateCBSInfo[a].HTML;f(b,this.privateCBSInfo[a].CBS);c(b);this.K1N.appendChild(b)}}f(document,this.Ki);c(document.body)},Kv:function(){var a=[];this.K1N&&
(a=a.concat(b(this.K1N)));for(var a=a.concat(b(document)),c=0;c<l.length;c++)for(var d=0;d<l[c].__knot.options.length;d++)e(l[c].__knot.options[d].leftAP)&&n(l[c],l[c].__knot.options[d].leftAP),e(l[c].__knot.options[d].rightAP)&&n(l[c],l[c].__knot.options[d].rightAP);for(c=l.length=0;c<a.length;c++)delete a[c].__knot_template_id,a[c].removeAttribute("knot-template"),a[c].removeAttribute("knot-template-id"),a[c].parentNode.removeChild(a[c]);if(this.K1N){for(c=0;c<this.K1N.children.length;c++)0<
this.K1N.children[c].children.length&&j.Log.warning("Useless HTML is detected in private scope."+this.K1N.children[c]);this.K1N=null}},K10:function(a){return"function"===typeof a||!this.Kk[a]},createFromTemplate:function(a,b,c){if(this.K10(a)){var e,f;f="function"===typeof a?a:j.K1F.getValueOnPath(b,a);"function"===typeof f?e=f.apply(c,[b]):j.Log.error("Unknown template:"+a);return e}j.Kh.Kk[a]?(a=j.Kh.Kk[a],
b=a.cloneNode(!0),d(a,b),a=b):(j.Log.error("Failed find template. id:"+a),a=void 0);return a},hasDataContext:function(a){return a.__knot&&"dataContext"in a.__knot},setDataContext:function(a,b){this.K13(a,b);a.__knot?a.__knot.dataContext=b:a.__knot={dataContext:b}},K11:function(a){if(a.__knot&&a.__knot.options)for(var b=0;b<a.__knot.options.length;b++)"dataContext"!==a.__knot.options[b].leftAP.description&&j.K3.KG(a,a.__knot.dataContext,a.__knot.options[b])},K12:function(a){if(a.__knot&&
a.__knot.options)for(var b=0;b<a.__knot.options.length;b++)"dataContext"!==a.__knot.options[b].leftAP.description&&j.K3.KF(a,a.__knot.dataContext,a.__knot.options[b])},K13:function(a,b){var c;if(a.__knot){c=g(a.__knot.options);var d=b;if(c){d=j.K3.K9(b,c.rightAP);if(d===j.K3.K8){j.Log.error("Get context data failed. node:"+j.KX.KY(a));return}if(c.hasTiedUpKnot&&d===a.__knot.dataContext)return;
(c.data||"/"===c.rightAP.description[0])&&c.changedCallback&&c.rightAP.provider.stopMonitoring(c.data,c.rightAP.description,c.changedCallback,c.rightAP.options);c.data=b;c.data||"/"===c.rightAP.description[0]?(c.changedCallback=function(){j.Kh.K13(a,b)},c.rightAP.provider.monitor(c.data,c.rightAP.description,c.changedCallback,c.rightAP.options)):c.changedCallback=null;c.hasTiedUpKnot=!0}this.K11(a);j.K3.KC(a,b,c,d,!1);for(c=0;c<a.childNodes.length;c++)this.K13(a.childNodes[c],
d);a.__knot.dataContext=d;this.K12(a)}else for(c=0;c<a.childNodes.length;c++)this.K13(a.childNodes[c],b)},K14:function(a){for(;a;){if(a.__knot)return a.__knot.dataContext;a=a.parentNode}},K15:function(a){if(a.__knot){var b=g(a.__knot.options);b&&((b.data||"/"===b.rightAP.description[0])&&b.changedCallback&&b.rightAP.provider.stopMonitoring(b.data,b.rightAP.description,b.changedCallback,b.rightAP.options),b.data=null,b.changedCallback=null,b.hasTiedUpKnot=
!1);this.K11(a);delete a.__knot.dataContext}for(b=0;b<a.childNodes.length;b++)this.K15(a.childNodes[b])},bind:function(){m();this.K13(document.body,null)},clear:function(){var a,b;for(b in k){k[b].objectObserveCallback&&j.KM.stopMonitoring(i,b.substr(1),k[b].objectObserveCallback);var c=j.K1F.getValueOnPath(null,b);if(c){var d=k[b].options;for(a=0;a<d.length;a++)j.K3.KG(c,null,d[a])}}this.K15(document.body)},K16:function(a,
b){a.__knot||(a.__knot={});a.__knot.dataContext=b},K1L:function(a){if(a.__knot)return a.__knot.dataContext},K17:function(a){var b;if(a.__knot&&a.__knot.options)for(b=0;b<a.__knot.options.length;b++)"dataContext"!==a.__knot.options[b].leftAP.description&&!(a.__knot.options[b].leftAP.description&&"!"===a.__knot.options[b].leftAP.description[0])&&j.K3.KH(a.__knot.options[b].leftAP);for(b=0;b<a.children.length;b++)this.K17(a.children[b])}}})(window);(function(i){function h(a,c,e,b){b=d.K18.parse(c+":"+b);0<b.length?(d.K3.KF(a,e,b[0]),a.__knot.options||(a.__knot.options=[]),a.__knot.options.push(b[0])):a[c]=e;return b}function g(a){var c=a.tagName.toLowerCase();"input"===c&&(c+=a.type.toLocaleLowerCase());return c}var d=i.Knot.K1M(),e={text:{"input.text":"value",textarea:"value",option:"text",span:"innerText","*":"textContent"}};d.K3.registerAPProvider({doesSupport:function(a,c){"#"===c[0]&&(a=document.querySelector(d.KX.getSelectorFromAPDescription(c)),
c=d.KX.getPropertyNameFromAPDescription(c));return a instanceof HTMLElement&&("select"===a.tagName.toLowerCase()&&(d.K1F.K1G(c,"options")||"selectedData"===c||"value"===c)||"class"===c||e[c])?!0:!1},getValue:function(a,c){"#"===c[0]&&(a=document.querySelector(d.KX.getSelectorFromAPDescription(c)),c=d.KX.getPropertyNameFromAPDescription(c));if("select"===a.tagName.toLowerCase()&&"selectedData"===c){var f=a.options[a.selectedIndex];if(f)return f.__knot?f.__knot.dataContext:
void 0}else{if("select"===a.tagName.toLowerCase()&&"value"===c)return 0<=a.selectedIndex?a.options[a.selectedIndex].value:void 0;if("class"===c)return a.className;if("select"===a.tagName.toLowerCase()&&d.K1F.K1G(c,"options"))return a.options;if(e[c]){var f=a,b=c,h=g(f),f=e[b][h]?f[e[b][h]]:f[e[b]["*"]];return f}}},setValue:function(a,c,f,b){"#"===c[0]&&(a=document.querySelector(d.KX.getSelectorFromAPDescription(c)),c=d.KX.getPropertyNameFromAPDescription(c));if("class"===
c){if(f){for(var b=[],c=a.className.split(" "),f=f.split(" "),i=0;i<f.length;i++){var m=f[i];"-"===m[0]?(m=m.substr(1).trim(),0<=c.indexOf(m)&&c.splice(c.indexOf(m),1)):"+"===m[0]?(m=m.substr(1).trim(),0>c.indexOf(m)&&c.push(m)):b.push(m)}a.className=0<b.length?b.join(" "):c.join(" ")}}else if("select"===a.tagName.toLowerCase()&&"value"===c){for(b=0;b<a.options.length;b++)if(a.options[b].value==f){a.selectedIndex=b;return}a.selectedIndex=-1}else if("select"===a.tagName.toLowerCase()&&"selectedData"===
c)a:{for(b=0;b<a.options.length;b++)if(a.options[b].__knot&&a.options[b].__knot.dataContext===f){a.selectedIndex=b;break a}a.selectedIndex=-1}else if("select"===a.tagName.toLowerCase()&&d.K1F.K1G(c,"options")){(c=b)||(c={});f||(f=[]);for(b=0;b<f.length;b++){a:{for(var i=a.options,m=f[b],j=b;j<i.length;j++)if(d.Kh.K1L(i[j])===m){i=i[j];break a}i=null}i?a.options[b].indexOf(i)!==b&&(a.options.remove(a.options[b].indexOf(i)),a.options.add(i,b)):(i=document.createElement("option"),
d.Kh.K16(i,f[b]),f[b]&&(c.displayMember?h(i,"text",f[b],c.displayMember):i.text=f[b],c.valueMember?h(i,"value",f[b],c.valueMember):i.value=f[b]),a.options.add(i,b))}for(b=a.options.length-1;b>=f.length;b--){c=a.options[b];if(c.__knot&&c.__knot.options){for(i=0;i<c.__knot.options.length;i++)d.K3.KG(c,c.__knot.dataContext,c.__knot.options[i]);delete c.__knot.dataContext}a.options.remove(b)}}else e[c]&&(b=c,"undefined"===typeof f&&(f=""),c=g(a),e[b][c]?a[e[b][c]]=
f:a[e[b]["*"]]=f)},doesSupportMonitoring:function(a,c){"#"===c[0]&&(a=document.querySelector(d.KX.getSelectorFromAPDescription(c)),c=d.KX.getPropertyNameFromAPDescription(c));return a&&"select"===a.tagName.toLowerCase()&&("selectedData"===c||"value"===c)},monitor:function(a,c,e){"#"===c[0]&&(a=document.querySelector(d.KX.getSelectorFromAPDescription(c)),c=d.KX.getPropertyNameFromAPDescription(c));"select"===a.tagName.toLowerCase()&&("selectedData"===c||"value"===
c)&&a.addEventListener("change",e)},stopMonitoring:function(a,c,e){"#"===c[0]&&(a=document.querySelector(d.KX.getSelectorFromAPDescription(c)),c=d.KX.getPropertyNameFromAPDescription(c));"select"===a.tagName.toLowerCase()&&("selectedData"===c||"value"===c)&&a.removeEventListener("change",e)}})})(window);(function(i){function h(){if(!c){c=!0;try{if(e){for(var b=e.map(function(a){return d.K1F.getValueOnPath(null,"$hash."+a)}),f=b.length-1;0<=f&&!b[f];f--)b.length=f;f="";0<b.length&&(f=b.join(a));i.location.hash="#"+f;d.K1F.setValueOnPath(null,"$hash.originalHash",f)}}finally{c=!1}}}function g(){if(!c){c=!0;try{var b;b=i.location.hash?i.location.hash.substr(1):"";if(e)for(var f=d.K1F.K1K(b,a),g=0;g<e.length;g++)d.K1F.setValueOnPath(null,"$hash."+e[g],f[g]);d.K1F.setValueOnPath(null,
"$hash.originalHash",b)}finally{c=!1}}}var d=i.Knot.K1M(),e,a,c=!1;d.K1F.setValueOnPath(null,"$hash",{});var f=d.K1F.getValueOnPath(null,"$hash");g();d.K1Q={setHashFormat:function(b,c){if(!(b instanceof Array))throw Error("Hash fields must be an array.");if(0<=b.indexOf("hash"))throw Error("Hash field can't be 'hash'.");if(!c)throw Error("Please specify the splitter.");var i;if(e)for(i=0;i<e.length;i++)d.KM.stopMonitoring(f,e[i],h);e=b;a=c;if(e)for(i=0;i<
e.length;i++)d.KM.monitor(f,e[i],h);g()}};d.KM.monitor(f,"originalHash",function(){h();g()});i.addEventListener("hashchange",function(){g()})})(window);(function(i){function h(){var a;for(a=0;a<d.length;a++)try{if(e)d[a](!1,e);else d[a](!0)}catch(c){g.Log.warning("Execute on ready callback failed.",c)}d.length=0}var g=i.Knot.K1M();delete i.Knot.K1M;i.Knot.Advanced={registerAPProvider:function(a){return g.K3.registerAPProvider(a)},registerLogger:function(a){g.Log.log=a},registerDebugger:function(a){g.Debugger=a},synchronizeItems:function(a,c,d,b,e){g.Kf.syncItems(a,c,d,b,e)},createFromTemplate:function(a,
c,d){return g.Kh.createFromTemplate(a,c,d)},setDataContext:function(a,c){g.Kh.setDataContext(a,c)},getValueOnPath:function(a,c){return g.K1F.getValueOnPath(a,c)},registerNamedGlobalSymbol:function(a,c){return g.KS.KT(a,c)}};i.Knot.getErrorStatusInformation=function(a){a||(a=document.body);g.Kh.K17(a);var c=[];g.Kg.getErrorStatusInformation(a,c);return c};i.Knot.notifyObjectChanged=function(a,
c,d,b){g.KM.notifyDataChanged(a,c,d,b)};i.Knot.monitorObject=function(a,c,d){g.KM.monitorObject(a,c,d)};i.Knot.stopMonitoringObject=function(a,c,d){g.KM.stopMonitoring(a,c,d)};i.Knot.getPropertiesChangeRecords=function(a){return g.KM.getPropertiesChangeRecords(a)};i.Knot.clearPropertiesChangeRecords=function(a){return g.KM.clearPropertiesChangeRecords(a)};i.Knot.clear=function(){g.Kh.clear()};i.Knot.getDataContext=function(a){return g.Kh.K14(a)};
i.Knot.findElementBindToData=function(a,c){for(var d=0;d<a.length;d++)if(i.Knot.getDataContext(a[d])===c)return a};i.Knot.setHashFormat=function(a,c){g.K1Q.setHashFormat(a,c)};i.Knot.getKnotVariant=function(a){return g.K1F.getValueOnPath(null,a)};i.Knot.setKnotVariant=function(a,c){return g.K1F.setValueOnPath(null,a,c)};var d=[],e;i.Knot.ready=function(a){d.push(a);(i.Knot.isReady||e)&&h()};i.Knot.isReady=!1;i.addEventListener("load",function(){g.Kh.Kl().done(function(){g.Kh.Ks();
g.Kh.Kv();g.Kh.bind();i.Knot.isReady=!0;e=null;h()},function(a){i.Knot.isReady=!1;e=a;h()})})})(window);
